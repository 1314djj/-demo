{"remainingRequest":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ThinkPad\\Desktop\\demo-cart\\src\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\src\\App.vue","mtime":1679033752616},{"path":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677913861802},{"path":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\babel-loader\\lib\\index.js","mtime":1677913862482},{"path":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1677913861802},{"path":"C:\\Users\\ThinkPad\\Desktop\\demo-cart\\node_modules\\vue-loader\\lib\\index.js","mtime":1677913844882}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL1RoaW5rUGFkL0Rlc2t0b3AvZGVtby1jYXJ0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8g5a+85YWlYXhpb3Por7fmsYLlupMKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsgLy/lr7zlhaXpnIDopoHnmoTnu4Tku7YKCmltcG9ydCBIZWFkZXIgZnJvbSAnQC9jb21wb25lbnRzL0hlYWRlci9IZWFkZXIudnVlJzsKaW1wb3J0IEdvb2RzIGZyb20gJ0AvY29tcG9uZW50cy9Hb29kcy9Hb29kcy52dWUnOwppbXBvcnQgRm9vdGVyIGZyb20gJ0AvY29tcG9uZW50cy9Gb290ZXIvRm9vdGVyLnZ1ZSc7CmltcG9ydCBidXMgZnJvbSAnQC9jb21wb25lbnRzL2V2ZW50QnVzLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+eUqOadpeWtmOWCqOi0reeJqei9pueahOWIl+ihqOaVsOaNru+8jOm7mOiupOS4uuepuuaVsOe7hAogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+WKqOaAgeiuoeeul+WHuuWFqOmAieeahOeKtuaAgeaYryB0cnVlIOi/mOaYryBmYWxzZQogICAgZnVsbFN0YXRlOiBmdW5jdGlvbiBmdWxsU3RhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmxpc3QuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5nb29kc19zdGF0ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5bey5Yu+6YCJ5ZWG5ZOB55qE5Lu35qC8CiAgICBhbXQ6IGZ1bmN0aW9uIGFtdCgpIHsKICAgICAgLy8gMS4g5YWIIGZpbHRlciDov4fmu6QKICAgICAgLy8gMi4g5YaNIHJlZHVjZSDntK/liqAKICAgICAgcmV0dXJuIHRoaXMubGlzdC5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5nb29kc19zdGF0ZTsKICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uICh0b3RhbCwgaXRlbSkgewogICAgICAgIHJldHVybiB0b3RhbCArPSBpdGVtLmdvb2RzX3ByaWNlICogaXRlbS5nb29kc19jb3VudDsKICAgICAgfSwgMCk7CiAgICB9LAogICAgLy8g5bey5Yu+6YCJ5ZWG5ZOB55qE5oC75pWw6YePCiAgICB0b3RhbDogZnVuY3Rpb24gdG90YWwoKSB7CiAgICAgIHJldHVybiB0aGlzLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZ29vZHNfc3RhdGU7CiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAodCwgaXRlbSkgewogICAgICAgIHJldHVybiB0ICs9IGl0ZW0uZ29vZHNfY291bnQ7CiAgICAgIH0sIDApOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgLy/osIPnlKjor7fmsYLmlbDmja7nmoTmlrnms5UKICAgIHRoaXMuaW5pdENhckxpc3QoKTsKICAgIGJ1cy4kb24oJ3NoYXJlJywgZnVuY3Rpb24gKHZhbCkgewogICAgICBfdGhpcy5saXN0LnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBpZiAoaXRlbS5pZCA9PT0gdmFsLmlkKSB7CiAgICAgICAgICBpdGVtLmdvb2RzX2NvdW50ID0gdmFsLnZhbHVlOwogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy/lsIHoo4Xor7fmsYLliJfooajmlbDmja7nmoTmlrnms5UKICAgIGluaXRDYXJMaXN0OiBmdW5jdGlvbiBpbml0Q2FyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkYXhpb3MkZ2V0LCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgnaHR0cHM6Ly93d3cuZXNjb29rLmNuL2FwaS9jYXJ0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRheGlvcyRnZXQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJGF4aW9zJGdldC5kYXRhOwoKICAgICAgICAgICAgICAgIC8v5Y+q6KaB6K+35rGC5Zue5p2l55qE5pWw5o2u77yM5Zyo6aG16Z2i5riy5p+T5pyf6Ze06KaB55So5Yiw77yM5YiZ5b+F6aG76L2s5a2Y5YiwZGF0YeS4rQogICAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIubGlzdCA9IHJlcy5saXN0OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/mjqXmlLZHb29kc+WtkOe7hOS7tuS8oOmAkui/h+adpeeahOaVsOaNrgogICAgLy9l55qE5qC85byP5Li6e2lk77yMdmFsdWV9CiAgICBnZXROZXdTdGF0ZTogZnVuY3Rpb24gZ2V0TmV3U3RhdGUoZSkgewogICAgICBjb25zb2xlLmxvZygi54i257uE5Lu25o6l5pS25Yiw5pWw5o2u5LqG77yB77yBIik7CiAgICAgIHRoaXMubGlzdC5zb21lKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uaWQgPT09IGUuaWQpIHsKICAgICAgICAgIGl0ZW0uZ29vZHNfc3RhdGUgPSBlLnZhbHVlOyAvL+e7iOatouWQjue7reeahOW+queOrwoKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mjqXmlLYgRm9vdGVyIOWtkOe7hOS7tuS8oOmAkui/h+adpeeahOWFqOmAieaMiemSrueahOeKtuaAgQogICAgZ2V0RnVsbFN0YXRlOiBmdW5jdGlvbiBnZXRGdWxsU3RhdGUoZSkgewogICAgICBjb25zb2xlLmxvZygn5ZyoQXBw5Lit5ou/5Yiw5LqG5YWo6YCJ54q25oCBJyk7CiAgICAgIHRoaXMubGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uZ29vZHNfc3RhdGUgPSBlOwogICAgICB9KTsKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEhlYWRlcjogSGVhZGVyLAogICAgR29vZHM6IEdvb2RzLAogICAgRm9vdGVyOiBGb290ZXIKICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!--Header 头部区域 -->\n    <Header title=\"购物车案例\"></Header>\n    <!-- 循环渲染每一个商品的信息-->\n    <Goods \n    v-for=\"item in list\" \n    :key=\"item.id\" \n    :id=\"item.id\"\n    :title=\"item.goods_name\"\n    :pic=\"item.goods_img\"\n    :price=\"item.goods_price\"\n    :state=\"item.goods_state\"\n    :count=\"item.goods_count\"\n    @state-change =\"getNewState\"\n    ></Goods>\n\n    <!-- Footer区域 -->\n    <Footer :isfull=\"fullState\" :amount=\"amt\" @full-change=\"getFullState\" :all=\"total\"></Footer>\n  </div>\n</template>\n\n<script>\n// 导入axios请求库\nimport axios from 'axios'\n//导入需要的组件\nimport Header from '@/components/Header/Header.vue'\n\nimport Goods from '@/components/Goods/Goods.vue'\n\nimport Footer from '@/components/Footer/Footer.vue'\n\nimport bus from '@/components/eventBus.js'\n  \nexport default {\n  data() {\n    return {\n      //用来存储购物车的列表数据，默认为空数组\n      list: []\n    }\n  },\n  computed: {\n    //动态计算出全选的状态是 true 还是 false\n    fullState(){\n      return this.list.every(item => item.goods_state)\n    },\n    // 已勾选商品的价格\n    amt() {\n      // 1. 先 filter 过滤\n      // 2. 再 reduce 累加\n     return this.list\n        .filter(item => item.goods_state)\n        .reduce((total, item) => (total += item.goods_price * item.goods_count)\n        ,0)\n    },\n    // 已勾选商品的总数量\n    total() {\n     return this.list.filter(item => item.goods_state).reduce((t,item)=> (t += item.goods_count) ,0)\n    }\n  },\n  created() {\n    //调用请求数据的方法\n    this.initCarList() \n\n    bus.$on('share',val => {\n      this.list.some(item => {\n        if(item.id === val.id) {\n          item.goods_count = val.value\n          return true\n        }\n      })\n    })\n  },\n\n  methods: {\n    //封装请求列表数据的方法\n    async initCarList() {\n    //调用 axios 的get 方法，请求列表数据\n     const{ data: res } = await axios.get('https://www.escook.cn/api/cart') \n     //只要请求回来的数据，在页面渲染期间要用到，则必须转存到data中\n      if(res.status===200){\n        this.list=res.list\n      }\n    },\n    //接收Goods子组件传递过来的数据\n    //e的格式为{id，value}\n    getNewState(e){\n       console.log(\"父组件接收到数据了！！\")\n       this.list.some(item => {\n         if(item.id === e.id){\n          item.goods_state = e.value\n          //终止后续的循环\n          return true\n         }\n       })\n    },\n    //接收 Footer 子组件传递过来的全选按钮的状态\n    getFullState(e){\n     console.log('在App中拿到了全选状态')\n     this.list.forEach(item => item.goods_state = e)\n    }\n\n  },\n  components: {\n    Header,\n    Goods,\n    Footer\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.app-container {\n  padding-top: 45px;\n  padding-bottom: 50px;\n}\n</style>\n"],"sourceRoot":"src"}]}